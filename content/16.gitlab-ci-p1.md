Title: [WIP] My journey with Gitlab CI - Part 1
Date: 2025-11-08
Category: Knowledge Base
Tags: ci/cd

# Introduction

in 2025 i have switched from Jenkins to Gitlab CI duo work changes, so here is what i learned and want to share in this article.
This is very very basic, nothing advanced. All lab environment will come from my public gitlab repo so i can see them again in future xD and you guy can understand what is going on.

In this series i will use gitlab account free. 400 Minutes per month (i will use runner that has Cost factor = 1, that is why i said i have 400 minutes xD). Read more about [Compute Minutes](https://docs.gitlab.com/ci/pipelines/compute_minutes/) here.

For the first part, let's begin with some components:
- Artifacts
- Environment
- Need vs Dependencies
- Reports
- Services
- Variables
- Job retry

# Artifacts
- Jobs can output an archive of files and directories. This output is known as a job artifact. Artifacts can include build output or report files. By default, later jobs fetch a copy of all artifacts from jobs in earlier stages. I copied [from this](https://docs.gitlab.com/ci/jobs/job_artifacts/) xD

- Here is a basic example job artifact include comment
```yaml
# Define stages that run sequentially
stages:
  - build      # Stage 1: Build the application
  - test       # Stage 2: Test the application
  - deploy     # Stage 3: Deploy to production

# Job 1: Build application and create artifacts
build_job:
  stage: build
  image: alpine:latest  # Use Alpine Linux (lightweight image)
  script:
    # Create build log file
    - echo "Building..." > build.txt
    # Create directory for binary
    - mkdir -p dist
    # Simulate creating binary file
    - echo "App binary" > dist/app.exe
  artifacts:
    paths:
      - build.txt    # Save log file
      - dist/        # Save dist directory (contains app.exe)
    #expire_in: 1 hour  # Artifacts auto-delete after 1 hour
    expire_in: never # for this demo!

# Job 2: Test artifacts from build_job
test_job:
  stage: test
  image: alpine:latest
  script:
    # Read log file from build_job
    - cat build.txt
    # List files in dist directory
    - ls -la dist/
    # Read binary file content
    - cat dist/app.exe
    # Print success message
    - echo "✅ Test passed!"

# Job 3: Deploy application to production
deploy_job:
  stage: deploy
  image: alpine:latest
  script:
    # Create production directory inside project (NOT /tmp!)
    - mkdir -p prod
    # Copy binary from dist to production
    - cp dist/app.exe prod/
    # Verify file was copied
    - ls -la prod/
    # Print deployment success message
    - echo "✅ Deployed successfully!"
  artifacts:
    paths:
      - prod/   # Save deployed files (must be in project directory)
    expire_in: never # for this demo!
```

Here is the public link for pipeline: https://gitlab.com/kienlt-gitlab-ci-demo/artifacts/-/pipelines/2139629871