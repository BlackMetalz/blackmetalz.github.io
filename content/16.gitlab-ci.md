Title: [WIP] My journey with GitLab CI: friendly and effective!
Date: 2025-11-08
Category: Knowledge Base
Tags: ci/cd

# Introduction
- Comparison from me who always bias Jenkins before xD
- Basic example with GitLab CI
- Lab 2
- Lab 3

This is very, very basic, nothing advanced. All lab repo will come from my public GitLab repo, so I can see them again in future xD, and you guy can understand what is going on.

In this series I will use GitLab account free. 400 Minutes per month (I will use runner that has Cost factor = 1, that is why I said I have 400 minutes xD). Read more about it in here: [Compute Minutes](https://docs.gitlab.com/ci/pipelines/compute_minutes/).

# Comparison between GitLab CI and Jenkins
The fact my previous company used Jenkins to manage about 500++ jobs and I never tried anything different from Jenkins, if I did lab it was basic of GitLab CI with shell executor and GitHub Actions with some echo script xD. So at that time I always bias with Jenkins, everything deployment from basic to complicated, Jenkins always go first no matter!

In 2025, I have switched from Jenkins to GitLab CI due to work changes, my mindset is expanded, no longer biased towards Jenkins, here is my opinion in comparison between GitLab CI and Jenkins

### GitLab CI
- Easy to begin, friendly with developer.
- Want to set up fast, less complicated. You only need to maintain Runner if you use GitLab cloud
- Hard to integrate external tool. Less elegant.
- You can not hide pipeline config file `.gitlab-ci.yml` from Developers.
- Conclusion: *Easy and Effective in some condition!*
### Jenkins
- Complicated, Plugin Hell but ready to use.
- Harder to maintain than GitLab, need to manage both Jenkins master and slave instances.
- Ability to integrate with external. More elegant.
- You can hide pipeline config file `Jenkinsfile` from Developers.
- Conclusion: *Complicated but flexible, can be customized with whatever you want!*

Hmm, above are pretty like too much theory, no real example. Lets me go with more detail comparison.

### Dynamic Parameters Dropdown
- Jenkins: Active Choices Plugin allow dropdown automatically populate tags/branches from Git.
- GitLab CI: NO dynamic dropdown parameters.

### ArgoCD Create/Update Logic
- Jenkins: Groovy code elegant with if/else check app exists
```groovy
// Pseudocode from argocdCreateOrUpdateApp.groovy
def appExists = sh(
  script: "argocd app get ${appName}",
  returnStatus: true
) == 0

if (appExists) {
  sh "argocd app set ${appName} --repo ${repoUrl}"
} else {
  sh "argocd app create ${appName} --repo ${repoUrl} --dest-server https://kubernetes.default.svc --dest-namespace default --path ." 
}

```
- GitLab CI: Need to write shell in YAML, less elegant but still do-able xD
```yaml
# GitLab CI .gitlab-ci.yml
argocd_sync:
  script:
    - |
      if argocd app get $APP_NAME &>/dev/null; then
        echo "App exists, updating..."
        argocd app set $APP_NAME --repo $REPO_URL
      else
        echo "App not found, creating..."
        argocd app create $APP_NAME --repo $REPO_URL
      fi
```

For scenario that I have multiple K8S cluster (13 for example, based real story), I can choose which K8S cluster to deploy with Jenkins, but with GitLab I think it is not flexible like that.

### Rollback with Tag Selection
Scenario if ArgoCD project set manual sync
- Jenkins: UI can be customized with action select tag and action for DEPLOY/ROLLBACK/RESTART/STOP (Defined in Jenkins.)
- GitLab CI: no dropdown, action like stop k8s pod, restart k8s need manually update Gitops repo. 

### Super important things to remember
- After write to this line, I think it is depends on workflow, environment and conditions of team, central in company then we can decide to use which technology!
- That is enough thing to compare, Let's begin with GitLab CI introduction!


